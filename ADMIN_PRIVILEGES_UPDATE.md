# ุตูุงุญูุงุช ุงูุฃุฏูู ูู ุตูุญุฉ Upload - ุงูุชุญุฏูุซ ุงูุฌุฏูุฏ

## ๐ฏ ุงูุชุญุฏูุซ ุงููุทููุจ

ุชู ุฅุถุงูุฉ ุตูุงุญูุงุช ุฎุงุตุฉ ููุฃุฏูู ูุงูุณูุจุฑ ุฃุฏูู ูุงุณุชุฎุฏุงู ุตูุญุฉ `upload.tsx` ุจุฏูู ูููุฏ ุนูู ุนุฏุฏ ุงูุณุงุนุงุช ุงููุญููุฉ.

## โ ุงูุชุนุฏููุงุช ุงููุทุจูุฉ

### 1. ุฅุถุงูุฉ ูุญุต ุงูุตูุงุญูุงุช
```typescript
const { isSuperadmin, hasRole, loading: permissionsLoading } = useUserPermissions();
const isAdmin = isSuperadmin || hasRole('admin') || hasRole('superadmin');
```

### 2. ุฅูุบุงุก ูููุฏ ุงูุฑุตูุฏ ููุฃุฏูู
- **ุงููุณุชุฎุฏููู ุงูุนุงุฏููู**: ูุฎุถุนูู ููุญุต ุงูุฑุตูุฏ ุงููุชุจูู
- **ุงูุฃุฏูู ูุงูุณูุจุฑ ุฃุฏูู**: ูุง ูุฎุถุนูู ููููุฏ ุงูุฑุตูุฏ

### 3. ุฅูุบุงุก ุฎุตู ุงูุฏูุงุฆู ููุฃุฏูู
- **ุงููุณุชุฎุฏููู ุงูุนุงุฏููู**: ูุชู ุฎุตู ุงูุฏูุงุฆู ุจุนุฏ ูู ุนูููุฉ ุชูุฑูุบ
- **ุงูุฃุฏูู ูุงูุณูุจุฑ ุฃุฏูู**: ูุง ูุชู ุฎุตู ุฃู ุฏูุงุฆู

### 4. ูุงุฌูุฉ ุฎุงุตุฉ ููุฃุฏูู
- **ุนุฑุถ ุญุงูุฉ ุงูุฃุฏูู**: "๐ง Admin Mode - Unlimited Access"
- **ููู ูุฎุชูู**: ุฎูููุฉ ุตูุฑุงุก ููุต ุจุฑุชูุงูู
- **ุชูููุฒ ุจุตุฑู**: ูุธูุฑ ุฃู ุงููุณุชุฎุฏู ูู ูุถุน ุงูุฃุฏูู

## ๐ง ุงูุชูุงุตูู ุงูุชูููุฉ

### ูุญุต ุงูุตูุงุญูุงุช
```typescript
// ุงูุชุญูู ูู ุตูุงุญูุงุช ุงูุฃุฏูู
const isAdmin = isSuperadmin || hasRole('admin') || hasRole('superadmin');
```

### ููุทู ุงูุชุญูู ูู ุงูุฑุตูุฏ
```typescript
// ุงูุชุญูู ูู ุงูุฑุตูุฏ ููุท ูููุณุชุฎุฏููู ุงูุนุงุฏููู (ููุณ ุงูุฃุฏูู)
if (!isAdmin) {
  if (remainingMinutes === null) {
    Alert.alert('Error', 'Cannot fetch your credits.');
    return;
  }
  if (totalMinutes > remainingMinutes) {
    Alert.alert('Insufficient Credits', 'Total file duration exceeds your remaining credits. Please purchase additional minutes.');
    return;
  }
}
```

### ููุทู ุฎุตู ุงูุฏูุงุฆู
```typescript
// ุฎุตู ุงูุฏูุงุฆู ููุท ูููุณุชุฎุฏููู ุงูุนุงุฏููู (ููุณ ุงูุฃุฏูู)
if (!isAdmin) {
  const fileMinutes = Math.ceil(file.duration / 60);
  await supabase.rpc('deduct_transcription_time', { uid: user.id, minutes_to_deduct: fileMinutes });
  // ุชุญุฏูุซ ุงูุฑุตูุฏ ุจุนุฏ ุงูุฎุตู
  // ...
}
```

### ูุงุฌูุฉ ุงูุฃุฏูู
```typescript
{/* ุนุฑุถ ุงูุฑุตูุฏ ุงููุชุจูู ุฃู ุญุงูุฉ ุงูุฃุฏูู */}
{user && (
  <View style={[styles.creditsContainer, isAdmin && styles.adminCreditsContainer]}>
    <Text style={[styles.creditsText, isAdmin && styles.adminCreditsText]}>
      {isAdmin ? '๐ง Admin Mode - Unlimited Access' : `Remaining Credits: ${remainingMinutes !== null ? remainingMinutes + ' minutes' : '...'}`}
    </Text>
  </View>
)}
```

## ๐จ ุงูุฃููุงุท ุงูุฌุฏูุฏุฉ

### ุฃููุงุท ุงูุฃุฏูู
```typescript
adminCreditsContainer: {
  backgroundColor: '#FEF3C7',  // ุฎูููุฉ ุตูุฑุงุก ูุงุชุญุฉ
  borderColor: '#F59E0B',      // ุญุฏูุฏ ุจุฑุชูุงููุฉ
},
adminCreditsText: {
  color: '#92400E',            // ูุต ุจุฑุชูุงูู ุบุงูู
},
```

## ๐ฑ ููููุฉ ุงูุนูู

### ูููุณุชุฎุฏููู ุงูุนุงุฏููู:
1. **ูุญุต ุงูุฑุตูุฏ**: ูุชู ุงูุชุญูู ูู ููุงูุฉ ุงูุฑุตูุฏ ูุจู ุงูุชูุฑูุบ
2. **ุฎุตู ุงูุฏูุงุฆู**: ูุชู ุฎุตู ุงูุฏูุงุฆู ุจุนุฏ ูู ุนูููุฉ
3. **ุนุฑุถ ุงูุฑุตูุฏ**: ูุธูุฑ ุงูุฑุตูุฏ ุงููุชุจูู

### ููุฃุฏูู ูุงูุณูุจุฑ ุฃุฏูู:
1. **ูุง ูุญุต ุฑุตูุฏ**: ูููู ุฑูุน ุฃู ุนุฏุฏ ูู ุงููููุงุช ุจุฃู ูุฏุฉ
2. **ูุง ุฎุตู ุฏูุงุฆู**: ูุง ูุชู ุฎุตู ุฃู ุฏูุงุฆู ูู ุฑุตูุฏูู
3. **ุนุฑุถ ุญุงูุฉ ุงูุฃุฏูู**: ูุธูุฑ "๐ง Admin Mode - Unlimited Access"

## ๐ ุงูุฃูุงู

- **ูุญุต ุงูุตูุงุญูุงุช**: ูุชู ูุญุต ุงูุตูุงุญูุงุช ุนูุฏ ุชุญููู ุงูุตูุญุฉ
- **ุญูุงูุฉ ูู ุงูุชูุงุนุจ**: ูุง ูููู ูููุณุชุฎุฏููู ุงูุนุงุฏููู ุชุฌุงูุฒ ุงููููุฏ
- **ุชุณุฌูู ุงูุนูููุงุช**: ุฌููุน ุงูุนูููุงุช ูุณุฌูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

## โ ุงูุชุญูู ูู ุงูุชุทุจูู

### ุงุฎุชุจุงุฑ ุงูุฃุฏูู:
1. ุชุณุฌูู ุฏุฎูู ุจุญุณุงุจ ุฃุฏูู ุฃู ุณูุจุฑ ุฃุฏูู
2. ุงูุฐูุงุจ ุฅูู ุตูุญุฉ Upload
3. ุฑูุน ูููุงุช ุจุฃู ูุฏุฉ
4. ุงูุชุฃูุฏ ูู ุนุฏู ุธููุฑ ุฑุณุงุฆู "Insufficient Credits"
5. ุงูุชุฃูุฏ ูู ุนุฏู ุฎุตู ุฃู ุฏูุงุฆู

### ุงุฎุชุจุงุฑ ุงููุณุชุฎุฏู ุงูุนุงุฏู:
1. ุชุณุฌูู ุฏุฎูู ุจุญุณุงุจ ุนุงุฏู
2. ุงูุฐูุงุจ ุฅูู ุตูุญุฉ Upload
3. ุฑูุน ูููุงุช ุชุชุฌุงูุฒ ุงูุฑุตูุฏ ุงููุชุจูู
4. ุงูุชุฃูุฏ ูู ุธููุฑ ุฑุณุงูุฉ "Insufficient Credits"
5. ุงูุชุฃูุฏ ูู ุฎุตู ุงูุฏูุงุฆู ุจุนุฏ ุงูุชูุฑูุบ

## ๐ฏ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

- **ุงูุฃุฏูู ูุงูุณูุจุฑ ุฃุฏูู**: ูุตูู ุบูุฑ ูุญุฏูุฏ ูุตูุญุฉ Upload
- **ุงููุณุชุฎุฏููู ุงูุนุงุฏููู**: ูุฎุถุนูู ููุธุงู ุงูุฏูุงุฆู ุงูุนุงุฏู
- **ูุงุฌูุฉ ูุงุถุญุฉ**: ุชูููุฒ ุจุตุฑู ูุญุงูุฉ ุงูุฃุฏูู
- **ุฃูุงู ูุงูู**: ุญูุงูุฉ ูู ุงูุชูุงุนุจ ุจุงูุตูุงุญูุงุช

ุงููุธุงู ุงูุขู ูุฏุนู ุตูุงุญูุงุช ุฎุงุตุฉ ููุฃุฏูู! ๐ 