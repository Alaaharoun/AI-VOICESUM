# حل مشكلة Expo Secure Store

## المشكلة
كان التطبيق يعاني من خطأ `_ExpoSecureStore.default.getValueWithKeyAsync is not a function` عند تشغيله في بيئة الويب.

## السبب
`expo-secure-store` لا يعمل في بيئة الويب (web) لأنه مصمم للعمل على الأجهزة المحمولة فقط (iOS و Android).

## الحل
تم إنشاء نظام تخزين موحد يدعم كلاً من:
- **الويب**: يستخدم `@react-native-async-storage/async-storage`
- **الأجهزة المحمولة**: يستخدم `expo-secure-store`

## الملفات المحدثة

### 1. `utils/storage.ts` (جديد)
- نظام تخزين موحد يدعم كل المنصات
- يكتشف تلقائياً المنصة المستخدمة
- يوفر نفس الواجهة البرمجية لجميع المنصات

### 2. `app/(auth)/sign-in.tsx`
- تم تحديث الاستيرادات لاستخدام النظام الجديد
- تم استبدال جميع استخدامات `SecureStore` بالدوال الجديدة

## كيفية الاستخدام

```typescript
import { getItemAsync, setItemAsync, deleteItemAsync } from '@/utils/storage';

// حفظ قيمة
await setItemAsync('key', 'value');

// استرجاع قيمة
const value = await getItemAsync('key');

// حذف قيمة
await deleteItemAsync('key');
```

## المزايا
1. **توافق مع الويب**: يعمل الآن في المتصفح بدون أخطاء
2. **أمان**: يستخدم التخزين الآمن في الأجهزة المحمولة
3. **سهولة الاستخدام**: نفس الواجهة البرمجية لجميع المنصات
4. **معالجة الأخطاء**: يتعامل مع الأخطاء بشكل آمن

## ملاحظات
- في الويب، يتم استخدام `AsyncStorage` الذي يوفر تخزين محلي آمن نسبياً
- في الأجهزة المحمولة، يتم استخدام `expo-secure-store` للتخزين الآمن
- النظام يكتشف تلقائياً المنصة المستخدمة ويختار الحل المناسب 